(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-file-upload"],{"193d":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}};e.default=n},"240a":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{openType:String},methods:{onGetUserInfo:function(t){this.$emit("getuserinfo",t.detail)},onContact:function(t){this.$emit("contact",t.detail)},onGetPhoneNumber:function(t){this.$emit("getphonenumber",t.detail)},onError:function(t){this.$emit("error",t.detail)},onLaunchApp:function(t){this.$emit("launchapp",t.detail)},onOpenSetting:function(t){this.$emit("opensetting",t.detail)}}};e.default=n},"24bd":function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("14d9"),a("d3b7"),a("ddb0");var i=n(a("c7eb")),s=n(a("1da1")),c=n(a("0848")),o={data:function(){return{appType:0,showIndex:0,csz:[],ywc:[],emptyIcon:"../../static/index/fileExplorer/empty.png",actionData:{show:!1,list:[]}}},methods:{initData:function(){var t=(0,s.default)((0,i.default)().mark((function t(){var e,a,n,s,o;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=c.default.getUploadTask(),a=[],n=[],t.t0=(0,i.default)().keys(e);case 4:if((t.t1=t.t0()).done){t.next=24;break}if(s=t.t1.value,o=e[s],o.icon){t.next=20;break}if(o.ext||(o.ext=c.default.getExtByName(o.name)),!c.default.isImage(o.ext)){t.next=13;break}o.icon=o.filePath,t.next=20;break;case 13:return t.next=15,c.default.getIconByExt(o.ext);case 15:return o.icon=t.sent,o.icon||(o.icon="/imgs/file_icon/file.png"),t.next=19,c.default.serverUrlTransform(o.icon);case 19:o.icon=t.sent;case 20:0==o.status&&o.sd&&o.sd>0?o.sdShow=c.default.getSizeName(o.sd):o.sdShow="0MB",1==o.status?n.push(o):a.push(o),t.next=4;break;case 24:this.csz=a,this.ywc=n;case 26:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),toShowFile:function(t,e){1==t?c.default.toFilePath(e):2==this.appType&&(plus.runtime.openFile(e),uni.setClipboardData({data:e,showToast:!1,success:function(){c.default.showToast("已复制文件所在地址,请自行使用文件管理器打开","success")}}))},showAction:function(t){var e=[];1==t.status?(e.push({name:"删除",id:t.id,action:"cancel"}),e.push({name:"清空所有",action:"clearYwc"})):(2==t.status&&e.push({name:"重试",id:t.id,action:"restart"}),e.push({name:"取消",id:t.id,action:"cancel"}),e.push({name:"取消所有",action:"clearCsz"})),this.actionData.list=e,this.actionData.show=!0},toSelectAction:function(t){if(this.actionData.show=!1,"cancel"==t.action)c.default.cancelUploadTask(t.id);else if("clearYwc"==t.action||"clearCsz"==t.action){var e;e="clearCsz"==t.action?this.csz:this.ywc;for(var a=0;a<e.length;a++)c.default.cancelUploadTask(e[a].id)}else"restart"==t.action&&c.default.restartUploadTask(t.id)}},onLoad:function(){this.appType=c.default.appType(),uni.setNavigationBarTitle({title:"传输管理"})},mounted:function(){2==c.default.mpType()&&(this.emptyIcon="list"),this.dsTime=setInterval(this.initData,1e3),this.initData(),c.default.initUploadTask()},beforeDestroy:function(){clearInterval(this.dsTime)}};e.default=o},5273:function(t,e,a){"use strict";a.r(e);var n=a("de9f"),i=a("e5d3");for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);var c=a("f0c5"),o=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"0fa2fccb",null,!1,n["a"],void 0);e["default"]=o.exports},"7e08":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}));var n={uPopup:a("13ff").default,uIcon:a("4517").default,uLine:a("6bb5").default,uLoadingIcon:a("aacfc").default,uGap:a("52cb").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("u-popup",{attrs:{show:t.show,mode:"bottom",safeAreaInsetBottom:t.safeAreaInsetBottom,round:t.round},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeHandler.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"u-action-sheet"},[t.title?a("v-uni-view",{staticClass:"u-action-sheet__header"},[a("v-uni-text",{staticClass:"u-action-sheet__header__title u-line-1"},[t._v(t._s(t.title))]),a("v-uni-view",{staticClass:"u-action-sheet__header__icon-wrap",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:"close",size:"17",color:"#c8c9cc",bold:!0}})],1)],1):t._e(),t.description?a("v-uni-text",{staticClass:"u-action-sheet__description",style:[{marginTop:""+(t.title&&t.description?0:"18px")}]},[t._v(t._s(t.description))]):t._e(),t._t("default",[t.description?a("u-line"):t._e(),a("v-uni-view",{staticClass:"u-action-sheet__item-wrap"},[t._l(t.actions,(function(e,n){return[a("v-uni-view",{staticClass:"u-action-sheet__item-wrap__item",attrs:{"hover-class":e.disabled||e.loading?"":"u-action-sheet--hover","hover-stay-time":150},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.selectHandler(n)}}},[e.loading?a("u-loading-icon",{attrs:{"custom-class":"van-action-sheet__loading",size:"18",mode:"circle"}}):[a("v-uni-text",{staticClass:"u-action-sheet__item-wrap__item__name",style:[t.itemStyle(n)]},[t._v(t._s(e.name))]),e.subname?a("v-uni-text",{staticClass:"u-action-sheet__item-wrap__item__subname"},[t._v(t._s(e.subname))]):t._e()]],2),n!==t.actions.length-1?a("u-line"):t._e()]}))],2)]),t.cancelText?a("u-gap",{attrs:{bgColor:"#eaeaec",height:"6"}}):t._e(),a("v-uni-view",{attrs:{"hover-class":"u-action-sheet--hover"}},[t.cancelText?a("v-uni-text",{staticClass:"u-action-sheet__cancel-text",attrs:{"hover-stay-time":150},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v(t._s(t.cancelText))]):t._e()],1)],2)],1)},s=[]},"7f6f":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a4d3"),a("e01a"),a("a9e3");var n={props:{show:{type:Boolean,default:uni.$u.props.actionSheet.show},title:{type:String,default:uni.$u.props.actionSheet.title},description:{type:String,default:uni.$u.props.actionSheet.description},actions:{type:Array,default:uni.$u.props.actionSheet.actions},cancelText:{type:String,default:uni.$u.props.actionSheet.cancelText},closeOnClickAction:{type:Boolean,default:uni.$u.props.actionSheet.closeOnClickAction},safeAreaInsetBottom:{type:Boolean,default:uni.$u.props.actionSheet.safeAreaInsetBottom},openType:{type:String,default:uni.$u.props.actionSheet.openType},closeOnClickOverlay:{type:Boolean,default:uni.$u.props.actionSheet.closeOnClickOverlay},round:{type:[Boolean,String,Number],default:uni.$u.props.actionSheet.round}}};e.default=n},9455:function(t,e,a){"use strict";var n=a("fb80"),i=a.n(n);i.a},a773:function(t,e,a){"use strict";a.r(e);var n=a("7e08"),i=a("bdb5");for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("9455");var c=a("f0c5"),o=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"4762c2a8",null,!1,n["a"],void 0);e["default"]=o.exports},bdb5:function(t,e,a){"use strict";a.r(e);var n=a("d44d"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},d44d:function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("240a")),s=n(a("193d")),c=n(a("7f6f")),o={name:"u-action-sheet",mixins:[i.default,s.default,uni.$u.mixin,c.default],data:function(){return{}},computed:{itemStyle:function(){var t=this;return function(e){var a={};return t.actions[e].color&&(a.color=t.actions[e].color),t.actions[e].fontSize&&(a.fontSize=uni.$u.addUnit(t.actions[e].fontSize)),t.actions[e].disabled&&(a.color="#c0c4cc"),a}}},methods:{closeHandler:function(){this.closeOnClickOverlay&&this.$emit("close")},cancel:function(){this.$emit("close")},selectHandler:function(t){var e=this.actions[t];!e||e.disabled||e.loading||(this.$emit("select",e),this.closeOnClickAction&&this.$emit("close"))}}};e.default=o},de9f:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}));var n={uToast:a("f0ac").default,uEmpty:a("d853").default,uActionSheet:a("a773").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("u-toast"),a("cu-custom",{attrs:{bgColor:"bg-blue",isBack:!0}},[a("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),a("template",{attrs:{slot:"content"},slot:"content"})],2),a("v-uni-scroll-view",{staticClass:"bg-white nav",attrs:{"scroll-x":!0}},[a("v-uni-view",{staticClass:"flex text-center"},t._l(2,(function(e,n){return a("v-uni-view",{key:n,staticClass:"cu-item flex-sub",class:n==t.showIndex?"text-blue cur":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showIndex=n}}},[t._v(t._s(0==n?"传输中":"已完成"))])})),1)],1),0==t.showIndex?a("v-uni-view",{staticClass:"cu-list menu-avatar"},[t._l(t.csz,(function(e){return a("v-uni-view",{staticClass:"cu-item"},[a("v-uni-view",{staticClass:"cu-avatar radius lg",staticStyle:{"background-color":"initial"}},[a("v-uni-image",{staticStyle:{height:"100%",width:"100%","object-fit":"contain"},attrs:{src:e.icon,mode:"aspectFit"}})],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-black"},[a("v-uni-view",{staticClass:"text-cut"},[t._v(t._s(e.expName)+t._s(e.name))])],1),2==e.status?a("v-uni-view",{staticClass:"text-red text-sm flex"},[a("v-uni-view",{staticClass:"text-cut"},[t._v(t._s(e.msg))])],1):a("v-uni-view",{staticClass:"text-gray text-sm flex"},[a("v-uni-view",{staticClass:"text-cut"},[t._v(t._s(e.sdShow)+"/S("+t._s(e.progress)+"%)")])],1)],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-view",{staticClass:"text-black",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.showAction(e)}}},[t._v("...")])],1)],1)})),0==t.csz.length?a("u-empty",{attrs:{icon:t.emptyIcon}}):t._e()],2):t._e(),1==t.showIndex?a("v-uni-view",{staticClass:"cu-list menu-avatar"},[t._l(t.ywc,(function(e){return a("v-uni-view",{staticClass:"cu-item"},[a("v-uni-view",{staticClass:"cu-avatar radius lg",staticStyle:{"background-color":"initial"}},[a("v-uni-image",{staticStyle:{height:"100%",width:"100%","object-fit":"contain"},attrs:{src:e.icon}})],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-black"},[a("v-uni-view",{staticClass:"text-cut"},[t._v(t._s(e.name))])],1),a("v-uni-view",{staticClass:"text-blue text-sm flex"},[a("v-uni-view",{staticClass:"text-cut",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toShowFile(e.type,e.path)}}},[t._v(t._s(1==e.type?"上传到":"保存到")+t._s(e.path))])],1)],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-view",{staticClass:"text-black",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.showAction(e)}}},[t._v("...")])],1)],1)})),0==t.ywc.length?a("u-empty",{attrs:{icon:t.emptyIcon}}):t._e()],2):t._e(),a("u-action-sheet",{attrs:{"cancel-text":"取消",actions:t.actionData.list,show:t.actionData.show},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.actionData.show=!1},select:function(e){arguments[0]=e=t.$handleEvent(e),t.toSelectAction.apply(void 0,arguments)}}})],1)},s=[]},e279:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,"uni-view[data-v-4762c2a8], uni-scroll-view[data-v-4762c2a8], uni-swiper-item[data-v-4762c2a8]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-reset-button[data-v-4762c2a8]{width:100%}.u-action-sheet[data-v-4762c2a8]{text-align:center}.u-action-sheet__header[data-v-4762c2a8]{position:relative;padding:12px 30px}.u-action-sheet__header__title[data-v-4762c2a8]{font-size:16px;color:#303133;font-weight:700;text-align:center}.u-action-sheet__header__icon-wrap[data-v-4762c2a8]{position:absolute;right:15px;top:15px}.u-action-sheet__description[data-v-4762c2a8]{font-size:13px;color:#909193;margin:18px 15px;text-align:center}.u-action-sheet__item-wrap__item[data-v-4762c2a8]{padding:15px;display:flex;flex-direction:row;align-items:center;justify-content:center;flex-direction:column}.u-action-sheet__item-wrap__item__name[data-v-4762c2a8]{font-size:16px;color:#303133;text-align:center}.u-action-sheet__item-wrap__item__subname[data-v-4762c2a8]{font-size:13px;color:#c0c4cc;margin-top:10px;text-align:center}.u-action-sheet__cancel-text[data-v-4762c2a8]{font-size:16px;color:#606266;text-align:center;padding:16px}.u-action-sheet--hover[data-v-4762c2a8]{background-color:#f2f3f5}",""]),t.exports=e},e5d3:function(t,e,a){"use strict";a.r(e);var n=a("24bd"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},fb80:function(t,e,a){var n=a("e279");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("020f73ce",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
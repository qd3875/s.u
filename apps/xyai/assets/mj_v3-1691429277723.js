import{d as ue,q as m,bw as pe,Z as we,bx as Me,by as Oe,v as xe,y as Z,H as ye,J as Q,bz as Ce,bA as Fe,g as _,t as Te,a1 as De,ai as V,h as Ue,a9 as Ae,c as Le,bB as je,bb as He,X as de,bC as fe,W as ce,a7 as me,bD as ge,ar as O,s as ze,am as Ee,A as Y,ae as We,bE as Ge,S as Ke,bF as Xe,o as qe,a as Je,aw as Ye}from"./index-1691429277723.js";import{A as Ze}from"./Add-1691429277723.js";const Qe=ue({name:"Remove",render(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},m("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),et=e=>{const{textColorDisabled:r}=e;return{iconColorDisabled:r}},tt=pe({name:"InputNumber",common:we,peers:{Button:Me,Input:Oe},self:et}),nt=tt,at=pe({name:"Watermark",common:we,self(e){const{fontFamily:r}=e;return{fontFamily:r}}}),rt=at;function it(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function lt(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^\.\d+$/.test(e))}function le(e){return e==null?!0:!Number.isNaN(e)}function he(e,r){return e==null?"":r===void 0?String(e):e.toFixed(r)}function oe(e){if(e===null)return null;if(typeof e=="number")return e;{const r=Number(e);return Number.isNaN(r)?null:r}}const ot=xe([Z("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),Z("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]),ve=800,be=100,ut=Object.assign(Object.assign({},Q.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),pt=ue({name:"InputNumber",props:ut,setup(e){const{mergedBorderedRef:r,mergedClsPrefixRef:w,mergedRtlRef:C}=ye(e),u=Q("InputNumber","-input-number",ot,nt,e,w),{localeRef:s}=Ce("InputNumber"),l=Fe(e),{mergedSizeRef:L,mergedDisabledRef:o,mergedStatusRef:v}=l,f=_(null),I=_(null),g=_(null),k=_(e.defaultValue),x=Te(e,"value"),c=De(x,k),b=_(""),B=t=>{const n=String(t).split(".")[1];return n?n.length:0},ee=t=>{const n=[e.min,e.max,e.step,t].map(a=>a===void 0?0:B(a));return Math.max(...n)},te=V(()=>{const{placeholder:t}=e;return t!==void 0?t:s.value.placeholder}),$=V(()=>{const t=oe(e.step);return t!==null?t===0?1:Math.abs(t):1}),j=V(()=>{const t=oe(e.min);return t!==null?t:null}),H=V(()=>{const t=oe(e.max);return t!==null?t:null}),N=t=>{const{value:n}=c;if(t===n){y();return}const{"onUpdate:value":a,onUpdateValue:i,onChange:p}=e,{nTriggerFormInput:R,nTriggerFormChange:M}=l;p&&O(p,t),i&&O(i,t),a&&O(a,t),k.value=t,R(),M()},h=({offset:t,doUpdateIfValid:n,fixPrecision:a,isInputing:i})=>{const{value:p}=b;if(i&&lt(p))return!1;const R=(e.parse||it)(p);if(R===null)return n&&N(null),null;if(le(R)){const M=B(R),{precision:A}=e;if(A!==void 0&&A<M&&!a)return!1;let S=parseFloat((R+t).toFixed(A??ee(R)));if(le(S)){const{value:re}=H,{value:ie}=j;if(re!==null&&S>re){if(!n||i)return!1;S=re}if(ie!==null&&S<ie){if(!n||i)return!1;S=ie}return e.validator&&!e.validator(S)?!1:(n&&N(S),S)}}return!1},y=()=>{const{value:t}=c;if(le(t)){const{format:n,precision:a}=e;n?b.value=n(t):t===null||a===void 0||B(t)>a?b.value=he(t,void 0):b.value=he(t,a)}else b.value=String(t)};y();const z=V(()=>h({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),F=V(()=>{const{value:t}=c;if(e.validator&&t===null)return!1;const{value:n}=$;return h({offset:-n,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),T=V(()=>{const{value:t}=c;if(e.validator&&t===null)return!1;const{value:n}=$;return h({offset:+n,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function E(t){const{onFocus:n}=e,{nTriggerFormFocus:a}=l;n&&O(n,t),a()}function W(t){var n,a;if(t.target===((n=f.value)===null||n===void 0?void 0:n.wrapperElRef))return;const i=h({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(i!==!1){const M=(a=f.value)===null||a===void 0?void 0:a.inputElRef;M&&(M.value=String(i||"")),c.value===i&&y()}else y();const{onBlur:p}=e,{nTriggerFormBlur:R}=l;p&&O(p,t),R(),ze(()=>{y()})}function G(t){const{onClear:n}=e;n&&O(n,t)}function P(){const{value:t}=T;if(!t){ae();return}const{value:n}=c;if(n===null)e.validator||N(se());else{const{value:a}=$;h({offset:a,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function d(){const{value:t}=F;if(!t){ne();return}const{value:n}=c;if(n===null)e.validator||N(se());else{const{value:a}=$;h({offset:-a,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const K=E,X=W;function se(){if(e.validator)return null;const{value:t}=j,{value:n}=H;return t!==null?Math.max(0,t):n!==null?Math.min(0,n):0}function Re(t){G(t),N(null)}function Ie(t){var n,a,i;!((n=g.value)===null||n===void 0)&&n.$el.contains(t.target)&&t.preventDefault(),!((a=I.value)===null||a===void 0)&&a.$el.contains(t.target)&&t.preventDefault(),(i=f.value)===null||i===void 0||i.activate()}let D=null,U=null,q=null;function ne(){q&&(window.clearTimeout(q),q=null),D&&(window.clearInterval(D),D=null)}function ae(){J&&(window.clearTimeout(J),J=null),U&&(window.clearInterval(U),U=null)}function ke(){ne(),q=window.setTimeout(()=>{D=window.setInterval(()=>{d()},be)},ve),fe("mouseup",document,ne,{once:!0})}let J=null;function Se(){ae(),J=window.setTimeout(()=>{U=window.setInterval(()=>{P()},be)},ve),fe("mouseup",document,ae,{once:!0})}const Ne=()=>{U||P()},Ve=()=>{D||d()};function _e(t){var n,a;if(t.key==="Enter"){if(t.target===((n=f.value)===null||n===void 0?void 0:n.wrapperElRef))return;h({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((a=f.value)===null||a===void 0||a.deactivate())}else if(t.key==="ArrowUp"){if(!T.value||e.keyboard.ArrowUp===!1)return;t.preventDefault(),h({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&P()}else if(t.key==="ArrowDown"){if(!F.value||e.keyboard.ArrowDown===!1)return;t.preventDefault(),h({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&d()}}function Be(t){b.value=t,e.updateValueOnInput&&!e.format&&!e.parse&&e.precision===void 0&&h({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}Ue(c,()=>{y()});const $e={focus:()=>{var t;return(t=f.value)===null||t===void 0?void 0:t.focus()},blur:()=>{var t;return(t=f.value)===null||t===void 0?void 0:t.blur()}},Pe=Ae("InputNumber",C,w);return Object.assign(Object.assign({},$e),{rtlEnabled:Pe,inputInstRef:f,minusButtonInstRef:I,addButtonInstRef:g,mergedClsPrefix:w,mergedBordered:r,uncontrolledValue:k,mergedValue:c,mergedPlaceholder:te,displayedValueInvalid:z,mergedSize:L,mergedDisabled:o,displayedValue:b,addable:T,minusable:F,mergedStatus:v,handleFocus:K,handleBlur:X,handleClear:Re,handleMouseDown:Ie,handleAddClick:Ne,handleMinusClick:Ve,handleAddMousedown:Se,handleMinusMousedown:ke,handleKeyDown:_e,handleUpdateDisplayedValue:Be,mergedTheme:u,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:Le(()=>{const{self:{iconColorDisabled:t}}=u.value,[n,a,i,p]=je(t);return{textColorTextDisabled:`rgb(${n}, ${a}, ${i})`,opacityDisabled:`${p}`}})})},render(){const{mergedClsPrefix:e,$slots:r}=this,w=()=>m(ge,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>ce(r["minus-icon"],()=>[m(me,{clsPrefix:e},{default:()=>m(Qe,null)})])}),C=()=>m(ge,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>ce(r["add-icon"],()=>[m(me,{clsPrefix:e},{default:()=>m(Ze,null)})])});return m("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},m(He,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,internalLoadingBeforeSuffix:!0},{prefix:()=>{var u;return this.showButton&&this.buttonPlacement==="both"?[w(),de(r.prefix,s=>s?m("span",{class:`${e}-input-number-prefix`},s):null)]:(u=r.prefix)===null||u===void 0?void 0:u.call(r)},suffix:()=>{var u;return this.showButton?[de(r.suffix,s=>s?m("span",{class:`${e}-input-number-suffix`},s):null),this.buttonPlacement==="right"?w():null,C()]:(u=r.suffix)===null||u===void 0?void 0:u.call(r)}}))}}),st=xe([Z("watermark-container",`
 position: relative;
 `,[Ee("selectable",`
 user-select: none;
 -webkit-user-select: none;
 `),Y("global-rotate",`
 overflow: hidden;
 `),Y("fullscreen",`
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 position: fixed;
 `)]),Z("watermark",`
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 background-repeat: repeat;
 `,[Y("fullscreen",`
 position: fixed;
 `),Y("global-rotate",`
 position: absolute;
 height: max(284vh, 284vw);
 width: max(284vh, 284vw);
 `)])]);function dt(e){if(!e)return 1;const r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/r}const ft=Object.assign(Object.assign({},Q.props),{debug:Boolean,cross:Boolean,fullscreen:Boolean,width:{type:Number,default:32},height:{type:Number,default:32},zIndex:{type:Number,default:10},xGap:{type:Number,default:0},yGap:{type:Number,default:0},yOffset:{type:Number,default:0},xOffset:{type:Number,default:0},rotate:{type:Number,default:0},image:String,imageOpacity:{type:Number,default:1},imageHeight:Number,imageWidth:Number,content:String,selectable:{type:Boolean,default:!0},fontSize:{type:Number,default:14},fontFamily:String,fontStyle:{type:String,default:"normal"},fontVariant:{type:String,default:""},fontWeight:{type:Number,default:400},fontColor:{type:String,default:"rgba(128, 128, 128, .3)"},fontStretch:{type:String,default:""},lineHeight:{type:Number,default:14},globalRotate:{type:Number,default:0}}),wt=ue({name:"Watermark",props:ft,setup(e,{slots:r}){const{mergedClsPrefixRef:w}=ye(e),C=Q("Watermark","-watermark",st,rt,e,w),u=_(""),s=We?document.createElement("canvas"):null,l=s?s.getContext("2d"):null,L=_(!1);return Ge(()=>L.value=!0),Ke(()=>{if(!s)return;L.value;const o=dt(l),{xGap:v,yGap:f,width:I,height:g,yOffset:k,xOffset:x,rotate:c,image:b,content:B,fontColor:ee,fontStyle:te,fontVariant:$,fontStretch:j,fontWeight:H,fontFamily:N,fontSize:h,lineHeight:y,debug:z}=e,F=(v+I)*o,T=(f+g)*o,E=x*o,W=k*o;if(s.width=F,s.height=T,l){l.translate(0,0);const G=I*o,P=g*o;if(z&&(l.strokeStyle="grey",l.strokeRect(0,0,G,P)),l.rotate(c*(Math.PI/180)),b){const d=new Image;d.crossOrigin="anonymous",d.referrerPolicy="no-referrer",d.src=b,d.onload=()=>{l.globalAlpha=e.imageOpacity;const{imageWidth:K,imageHeight:X}=e;l.drawImage(d,E,W,(e.imageWidth||(X?d.width*X/d.height:d.width))*o,(e.imageHeight||(K?d.height*K/d.width:d.height))*o),u.value=s.toDataURL()}}else B&&(z&&(l.strokeStyle="green",l.strokeRect(0,0,G,P)),l.font=`${te} ${$} ${H} ${j} ${h*o}px/${y*o}px ${N||C.value.self.fontFamily}`,l.fillStyle=ee,l.fillText(B,E,W+y*o),u.value=s.toDataURL())}else Xe("watermark","Canvas is not supported in the browser.")}),()=>{var o;const{globalRotate:v,fullscreen:f,zIndex:I}=e,g=w.value,k=v!==0&&f,x="max(142vh, 142vw)",c=m("div",{class:[`${g}-watermark`,v!==0&&`${g}-watermark--global-rotate`,f&&`${g}-watermark--fullscreen`],style:{transform:v?`translateX(-50%) translateY(-50%) rotate(${v}deg)`:void 0,zIndex:k?void 0:I,backgroundSize:`${e.xGap+e.width}px`,backgroundPosition:v===0?e.cross?`${e.width/2}px ${e.height/2}px, 0 0`:"":e.cross?`calc(${x} + ${e.width/2}px) calc(${x} + ${e.height/2}px), ${x} ${x}`:x,backgroundImage:e.cross?`url(${u.value}), url(${u.value})`:`url(${u.value})`}});return e.fullscreen&&!v?c:m("div",{class:[`${g}-watermark-container`,v!==0&&`${g}-watermark-container--global-rotate`,f&&`${g}-watermark-container--fullscreen`,e.selectable&&`${g}-watermark-container--selectable`],style:{zIndex:k?I:void 0}},(o=r.default)===null||o===void 0?void 0:o.call(r),c)}}}),ct={class:"inline-block",viewBox:"0 0 32 32",width:"1em",height:"1em"},mt=Ye("path",{fill:"currentColor",d:"M24.345 13.904a6.25 6.25 0 0 0-6.22-6.84a6.244 6.244 0 0 0-5.847 4.058a3.205 3.205 0 0 0-2.372-1.06a3.22 3.22 0 0 0-3.22 3.22c0 .21.024.415.063.613c-2.373.39-4.188 2.436-4.188 4.918a5 5 0 0 0 5 5h2.312a1.976 1.976 0 0 1 .387-2.274l4.326-4.33a1.979 1.979 0 0 1 1.413-.585c.54 0 1.04.21 1.416.587l4.323 4.33a1.976 1.976 0 0 1 .384 2.272h1.312a5 5 0 0 0 5-5a4.992 4.992 0 0 0-4.09-4.91zm-7.64 4.012c-.192-.195-.45-.29-.705-.29s-.512.095-.707.29l-4.327 4.33a1 1 0 0 0 0 1.414l.557.555c.39.39.964.45 1.276.137s.567-.12.567.432v1.238c0 .55.45 1 1 1h3.265c.55 0 1-.45 1-1v-1.238c0-.55.256-.744.57-.432c.31.312.886.252 1.275-.137l.556-.555a1 1 0 0 0 0-1.414l-4.327-4.33z"},null,-1),gt=[mt];function ht(e,r){return qe(),Je("svg",ct,gt)}const xt={name:"raphael-cloudup",render:ht},yt=""+new URL("loading-1691429277723.gif",import.meta.url).href,Rt=""+new URL("mj_v5-1691429277723.png",import.meta.url).href,It=""+new URL("niji_v5-1691429277723.png",import.meta.url).href,kt=""+new URL("mj_v5.1-1691429277723.png",import.meta.url).href,St=""+new URL("niji_v4-1691429277723.png",import.meta.url).href,Nt=""+new URL("mj_v4-1691429277723.png",import.meta.url).href,Vt=""+new URL("mj_v3-1691429277723.png",import.meta.url).href;export{pt as _,kt as a,St as b,Nt as c,Vt as d,xt as e,wt as f,yt as l,Rt as m,It as n};
